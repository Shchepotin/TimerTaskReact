(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{278:function(e,t,a){e.exports=a(620)},289:function(e,t,a){},620:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),o=a.n(c),s=a(35),i=a(42),m=a(254),l=a(233),u=a(24),f=a.n(u),d=a(14),p="REQUEST_TASKS",b="RECEIVE_TASKS",E="FAILURE_TASKS",O="REQUEST_TASK",T="RECEIVE_TASK",h="FAILURE_TASK",k="REQUEST_CURRENT_TASK",y="RECEIVE_CURRENT_TASK",g="FAILURE_CURRENT_TASK",v="UPDATE_CURRENT_TASK",S="START_TASK",j="STOP_TASK",x="DESTROY_TASK",w="GENERATE_RANDOM_TASKS",I=function(){return{type:p}},N=function(e){return{type:b,payload:e}},D=function(){return{type:E}},C=function(e){return{type:T,payload:e}},F=function(){return{type:h}},R=function(){return{type:k}},A=function(e){return{type:y,payload:e}},M=function(){return{type:g}},_=function(e){return{type:v,payload:e}},J=function(){return{type:S}},B=function(){return{type:j}},K=a(253),P=a(28),U=a(17),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*(t-e)+e+1)},W=function(){var e=JSON.parse(localStorage.getItem("tasks")||q());return e[e.length-1]&&e[e.length-1].id+1||1},q=function(){return JSON.stringify([])},L=function(){return JSON.stringify({id:W(),start:null,stop:null,name:""})},z=function(){return new Promise(function(e){setTimeout(function(){var t=JSON.parse(localStorage.getItem("tasks")||q());e(t)},50)})},Q=function(e){return new Promise(function(t,a){setTimeout(function(){var n=JSON.parse(localStorage.getItem("tasks")||q()).find(function(t){return t.id===Number(e.id)});n?t(n):a()},50)})},V=function(e){return new Promise(function(t){setTimeout(function(){var a=JSON.parse(localStorage.getItem("tasks")||q());localStorage.setItem("tasks",JSON.stringify(a.filter(function(t){return t.id!==Number(e.id)}))),t()},50)})},G=function(){return new Promise(function(e){setTimeout(function(){var t=JSON.parse(localStorage.getItem("task")||L());e(t)},50)})},Y=function(){return new Promise(function(e){setTimeout(function(){var t=JSON.parse(localStorage.getItem("task")||L());localStorage.setItem("task",JSON.stringify(Object(P.a)({},t,{start:U.DateTime.local()}))),e()},50)})},$=function(e){return new Promise(function(t){setTimeout(function(){var a=JSON.parse(localStorage.getItem("task")||L());localStorage.setItem("task",JSON.stringify(Object(P.a)({},a,e))),t()},50)})},X=function(){return new Promise(function(e){setTimeout(function(){for(var t=1,a=[],n=U.DateTime.fromObject({hour:0,minute:0,second:0}),r=null;n.toFormat("yyyy-LL-dd")===U.DateTime.local().toFormat("yyyy-LL-dd");)r=(n=n.plus({seconds:H(0,5400)})).plus({seconds:H(600,5400)}),a.push({id:t,start:n.toISO(),stop:r.toISO(),name:"Task #".concat(t)}),t+=1,n=r;localStorage.setItem("tasks",JSON.stringify(a)),e()},50)})},Z=function(){return new Promise(function(e){setTimeout(function(){var t=JSON.parse(localStorage.getItem("task")||L()),a=JSON.parse(localStorage.getItem("tasks")||q());localStorage.setItem("tasks",JSON.stringify([].concat(Object(K.a)(a),[Object(P.a)({},t,{stop:U.DateTime.local()})]))),localStorage.removeItem("task"),e()},50)})},ee=f.a.mark(le),te=f.a.mark(ue),ae=f.a.mark(fe),ne=f.a.mark(de),re=f.a.mark(pe),ce=f.a.mark(be),oe=f.a.mark(Ee),se=f.a.mark(Oe),ie=f.a.mark(Te),me=f.a.mark(he);function le(){var e;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.b)(z);case 3:return e=t.sent,t.next=6,Object(d.d)(N(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(d.d)(D());case 12:case"end":return t.stop()}},ee,null,[[0,8]])}function ue(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.b)(X);case 3:return e.next=5,Object(d.d)(I());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(d.d)(D());case 11:case"end":return e.stop()}},te,null,[[0,7]])}function fe(e){var t,a;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(d.b)(Q,t);case 4:return a=n.sent,n.next=7,Object(d.d)(C(a));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(d.d)(F());case 13:case"end":return n.stop()}},ae,null,[[1,9]])}function de(){var e;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.b)(G);case 3:return e=t.sent,t.next=6,Object(d.d)(A(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(d.d)(D());case 12:case"end":return t.stop()}},ne,null,[[0,8]])}function pe(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.b)(Y);case 3:return e.next=5,Object(d.d)(R());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(d.d)(M());case 11:case"end":return e.stop()}},re,null,[[0,7]])}function be(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.b)(Z);case 3:return e.next=5,Object(d.d)(R());case 5:return e.next=7,Object(d.d)(I());case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(d.d)(M());case 13:case"end":return e.stop()}},ce,null,[[0,9]])}function Ee(e){var t;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(d.c)(300);case 3:return a.prev=3,a.next=6,Object(d.b)($,t);case 6:return a.next=8,Object(d.d)(R());case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(3),a.next=14,Object(d.d)(M());case 14:case"end":return a.stop()}},oe,null,[[3,10]])}function Oe(e){var t;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(d.b)(V,t);case 3:return a.next=5,Object(d.d)(I());case 5:case"end":return a.stop()}},se)}function Te(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.e)(p,le);case 2:return e.next=4,Object(d.e)(O,fe);case 4:return e.next=6,Object(d.e)(k,de);case 6:return e.next=8,Object(d.e)(S,pe);case 8:return e.next=10,Object(d.e)(j,be);case 10:return e.next=12,Object(d.e)(x,Oe);case 12:return e.next=14,Object(d.e)(w,ue);case 14:return e.next=16,Object(d.f)(v,Ee);case 16:case"end":return e.stop()}},ie)}function he(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Te()]);case 2:case"end":return e.stop()}},me)}var ke=f.a.mark(ye);function ye(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([he()]);case 2:case"end":return e.stop()}},ke)}a(289);var ge=a(57),ve=a(33),Se=Object(ve.b)({basename:"/TimerTaskReact"}),je=a(46),xe=a(36),we=a(37),Ie=a.n(we),Ne=a(251),De=a.n(Ne),Ce=a(252),Fe=a.n(Ce),Re=a(156),Ae=a.n(Re),Me=a(234),_e=a.n(Me),Je=a(236),Be=a.n(Je),Ke=a(30),Pe=a.n(Ke),Ue=a(235),He=a.n(Ue),We=a(151),qe=a.n(We),Le=a(31),ze=a.n(Le),Qe=function(e){return{root:{display:"flex",flex:1,alignItems:"center",flexDirection:"column"},subRoot:{display:"flex",width:"100%",flexDirection:"column"},container:{maxWidth:"60rem"},textField:{width:"12rem",marginBottom:"1.5rem",color:"#3f51b5"},timer:{width:"10rem",height:"10rem",background:"#ffffff",marginBottom:"1.5rem",fontSize:"2rem",color:"#3f51b5"},card:{marginTop:"1.5rem",marginBottom:"1.5rem",minWidth:"60rem"},pos:{marginTop:12,marginBottom:3},actionTimer:{marginBottom:"1.5rem",background:"#ffffff",color:"#3f51b5"},actionButton:{marginTop:"1.5rem",marginBottom:"1.5rem",background:"#ffffff",color:"#3f51b5"},buttonContainerCenter:{display:"flex",justifyContent:"flex-end"},tabs:{marginBottom:"1.5rem"},tabsItems:{background:"#00bcd4"},modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"40rem",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},modalContent:{marginBottom:"1.5rem"},modalClose:{position:"absolute",color:"#3f51b5",right:15,bottom:10},contentWrapper:{marginBottom:"1.5rem"},button:{background:"#ffffff",color:"#3f51b5"},cellTable:{background:"#eaf6ff"},marginTopContainer:{marginTop:"1.5rem"}}},Ve=Object(s.b)(function(e){return{tasks:e.task.items}},{destroyTask:function(e){return{type:x,payload:e}}})(Object(xe.withStyles)(Qe)(function(e){var t=e.classes;return r.a.createElement(Ie.a,{container:!0,className:t.contentWrapper},r.a.createElement(_e.a,null,r.a.createElement(He.a,null,r.a.createElement(qe.a,null,r.a.createElement(Pe.a,null,"#"),r.a.createElement(Pe.a,null,"Task"),r.a.createElement(Pe.a,null,"Time start"),r.a.createElement(Pe.a,null,"Time end"),r.a.createElement(Pe.a,null,"Time spend"),r.a.createElement(Pe.a,null,"Info"),r.a.createElement(Pe.a,null,"Delete"))),r.a.createElement(Be.a,null,e.tasks.map(function(a){return r.a.createElement(qe.a,{key:a.id,className:t.cellTable},r.a.createElement(Pe.a,{component:"th",scope:"row"},a.id),r.a.createElement(Pe.a,null,a.name),r.a.createElement(Pe.a,null,U.DateTime.fromISO(a.start).toFormat("HH:mm:ss")),r.a.createElement(Pe.a,null,U.DateTime.fromISO(a.stop).toFormat("HH:mm:ss")),r.a.createElement(Pe.a,null,U.Interval.fromDateTimes(U.DateTime.fromISO(a.start),U.DateTime.fromISO(a.stop)).toDuration().toFormat("hh:mm:ss")),r.a.createElement(Pe.a,null,r.a.createElement(ze.a,{variant:"contained",className:t.button,component:je.a,to:"/tasks/".concat(a.id)},"Info")),r.a.createElement(Pe.a,null,r.a.createElement(ze.a,{variant:"contained",className:t.button,onClick:function(){e.destroyTask({id:a.id})}},"Delete")))}))))})),Ge=a(49),Ye=function(e){return U.DateTime.fromISO(e).toFormat("yyyy-MM-dd")},$e=function(e){return Array.from({length:24},function(t,a){return{name:a,value:Math.floor(e.map(function(e){return Object(P.a)({},e,{start:Ye(e.stop)===U.DateTime.local().toFormat("yyyy-MM-dd")&&Ye(e.start)!==Ye(e.stop)?U.DateTime.fromObject({hour:0,minute:0,second:0}).toISO():e.start})}).filter(function(e){return Ye(e.start)===U.DateTime.local().toFormat("yyyy-MM-dd")}).map(function(e){for(var t={},a=U.DateTime.fromISO(e.start),n=U.DateTime.fromISO(e.stop),r=a.toFormat("yyyy-MM-dd");a<=n&&(a.hour===n.hour?t[a.hour]=Number(U.Interval.fromDateTimes(a,n).toDuration().toFormat("s")):t[a.hour]=Number(U.Interval.fromDateTimes(a,U.DateTime.fromObject({day:a.day,hour:a.hour+1})).toDuration().toFormat("s")),r===(a=a.plus({minutes:60-a.minute}).set({seconds:0,milliseconds:0})).toFormat("yyyy-MM-dd")););return t}).reduce(function(e,t){return e+(t[a]||0)},0)/60)}})},Xe=Object(s.b)(function(e){return{tasks:e.task.items}},{generateRandomTasks:function(){return{type:w}}})(Object(xe.withStyles)(Qe)(function(e){var t=e.classes,a=Object(n.useMemo)(function(){return $e(e.tasks)},[e.tasks]);return r.a.createElement("div",{className:t.subRoot},r.a.createElement(Ge.e,{width:"100%",height:300},r.a.createElement(Ge.b,{height:300,data:a,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(Ge.c,{strokeDasharray:"3 3"}),r.a.createElement(Ge.g,{dataKey:"name"}),r.a.createElement(Ge.h,null),r.a.createElement(Ge.f,null),r.a.createElement(Ge.d,null),r.a.createElement(Ge.a,{name:"Minutes in this hours",dataKey:"value",fill:"#3248c7"}))),r.a.createElement("div",{className:t.buttonContainerCenter},r.a.createElement(ze.a,{variant:"contained",className:t.actionButton,onClick:function(){e.generateRandomTasks()}},"Generate")))})),Ze=a(110),et=a(249),tt=a.n(et),at=a(250),nt=a.n(at),rt=a(150),ct=a.n(rt),ot=a(32),st=a.n(ot),it=Object(s.b)(function(e){return{currentTask:e.task.currentItem}},{requestCurrentTask:R,startTask:J,stopTask:B,updateCurrentTask:_})(Object(xe.withStyles)(Qe)(function(e){var t=e.classes,a=Object(n.useState)(""),c=Object(Ze.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)("00:00:00"),m=Object(Ze.a)(i,2),l=m[0],u=m[1],f=Object(n.useState)(!1),d=Object(Ze.a)(f,2),p=d[0],b=d[1];Object(n.useEffect)(function(){var t=function(){u(U.Interval.fromDateTimes(U.DateTime.fromISO(e.currentTask.start),U.DateTime.local()).toDuration().toFormat("hh:mm:ss"))};e.currentTask.start&&t();var a=setInterval(function(){e.currentTask.start?t():(u("00:00:00"),clearInterval(a))},1e3);return function(){clearInterval(a)}},[e.currentTask.id,e.currentTask.start]),Object(n.useEffect)(function(){e.requestCurrentTask()},[]),Object(n.useEffect)(function(){s(e.currentTask.name)},[e.currentTask.id]);return r.a.createElement("div",{className:t.root},r.a.createElement(ct.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:p,onClose:function(){b(!1)}},r.a.createElement("div",{className:t.modal},r.a.createElement(Ie.a,{container:!0,className:t.modalContent},r.a.createElement(st.a,{variant:"h6",color:"error",id:"modal-title"},"Empty task name"),r.a.createElement(st.a,{variant:"subtitle1",id:"simple-modal-description"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement(ze.a,{className:t.modalClose,onClick:function(){b(!1)}},"Close"))),r.a.createElement(tt.a,{id:"standard-name",label:"Name of your task",className:t.textField,value:o,onChange:function(t){s(t.target.value),e.updateCurrentTask({name:t.target.value})},margin:"normal"}),r.a.createElement(nt.a,{className:t.timer},l),e.currentTask.start?r.a.createElement(ze.a,{variant:"contained",onClick:function(){""!==o.trim()?e.stopTask():b(!0)},className:t.actionTimer},"Stop"):r.a.createElement(ze.a,{variant:"contained",onClick:function(){e.startTask()},className:t.actionTimer},"Start"))})),mt=Object(s.b)(function(e){return{currentTask:e.task.currentItem}},{requestTasks:I,requestCurrentTask:R,startTask:J,stopTask:B,updateCurrentTask:_})(Object(xe.withStyles)(Qe)(function(e){var t=e.classes;return Object(n.useEffect)(function(){e.requestTasks()},[]),r.a.createElement("div",{className:t.root},r.a.createElement(Ie.a,{container:!0,alignItems:"center",direction:"column",className:t.container},r.a.createElement(it,null),r.a.createElement(De.a,{position:"static",className:t.tabs},r.a.createElement(Fe.a,{className:t.tabsItems,variant:"fullWidth",value:"/"===e.location.pathname?0:1},r.a.createElement(Ae.a,{component:je.a,to:"/",label:"Tasks log"}),r.a.createElement(Ae.a,{component:je.a,to:"/chart",label:"Tasks chart"}))),r.a.createElement(ge.b,{path:"/",exact:!0,component:Ve}),r.a.createElement(ge.b,{path:"/chart",exact:!0,component:Xe})))})),lt=a(106),ut=a.n(lt),ft=a(108),dt=a.n(ft),pt=a(107),bt=a.n(pt),Et=Object(s.b)(function(e){var t=e.task;return{task:t.item,isError:t.isError}},{requestTask:function(e){return{type:O,payload:e}}})(Object(xe.withStyles)(Qe)(function(e){var t=e.classes;return e.isError?r.a.createElement(ge.a,{to:"/404"}):(Object(n.useEffect)(function(){e.requestTask({id:e.match.params.id})},[e.match.params.id]),r.a.createElement("div",{className:t.root},r.a.createElement(Ie.a,{container:!0,alignItems:"center",direction:"column",className:t.container},r.a.createElement(ut.a,{className:t.card},r.a.createElement(bt.a,null,r.a.createElement(st.a,{variant:"h4",component:"h2"},e.task.name),r.a.createElement(st.a,{className:t.pos,color:"textSecondary"},"Start"),r.a.createElement(st.a,{component:"p"},U.DateTime.fromISO(e.task.start).toFormat("yyyy-MM-dd HH:mm:ss")),r.a.createElement(st.a,{className:t.pos,color:"textSecondary"},"End"),r.a.createElement(st.a,{component:"p"},U.DateTime.fromISO(e.task.stop).toFormat("yyyy-MM-dd HH:mm:ss")),r.a.createElement(st.a,{className:t.pos,color:"textSecondary"},"Time spend"),r.a.createElement(st.a,{component:"p"},U.Interval.fromDateTimes(U.DateTime.fromISO(e.task.start),U.DateTime.fromISO(e.task.stop)).toDuration().toFormat("hh:mm:ss"))),r.a.createElement(dt.a,null,r.a.createElement(ze.a,{size:"small",onClick:function(){e.history.goBack()}},"Back"))))))})),Ot=Object(xe.withStyles)(Qe)(function(e){var t=e.classes;return r.a.createElement(Ie.a,{className:t.marginTopContainer,container:!0,justify:"center"},r.a.createElement(Ie.a,{item:!0,xs:12,md:6},r.a.createElement(ut.a,null,r.a.createElement(bt.a,null,r.a.createElement(st.a,{variant:"h4",gutterBottom:!0},"404"),r.a.createElement(st.a,{color:"textSecondary"},"Page not found.")),r.a.createElement(dt.a,null,r.a.createElement(ze.a,{className:t.button,size:"small",component:je.a,to:"/"},"Homepage")))))}),Tt=function(){return r.a.createElement(ge.c,{history:Se},r.a.createElement(ge.d,null,r.a.createElement(ge.b,{path:"/",exact:!0,component:mt}),r.a.createElement(ge.b,{path:"/chart",exact:!0,component:mt}),r.a.createElement(ge.b,{path:"/tasks/:id",exact:!0,component:Et}),r.a.createElement(ge.b,{component:Ot})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht={isFetching:!1,isError:!1,items:[],item:{},currentItem:{name:""}};var kt=Object(i.combineReducers)({task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(P.a)({},e,{isFetching:!0,isError:!1});case b:return Object(P.a)({},e,{items:t.payload,isFetching:!1});case E:return Object(P.a)({},e,{isFetching:!1,isError:!0});case O:return Object(P.a)({},e,{isFetching:!0,isError:!1});case T:return Object(P.a)({},e,{item:t.payload,isFetching:!1});case h:return Object(P.a)({},e,{isFetching:!1,isError:!0});case k:return Object(P.a)({},e,{isFetching:!0,isError:!1});case y:return Object(P.a)({},e,{currentItem:t.payload,isFetching:!1});case g:return Object(P.a)({},e,{isFetching:!1,isError:!0});default:return e}}}),yt=Object(m.a)(),gt=Object(i.createStore)(kt,Object(l.composeWithDevTools)(Object(i.applyMiddleware)(yt)));yt.run(ye),o.a.render(r.a.createElement(s.a,{store:gt},r.a.createElement(Tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[278,1,2]]]);
//# sourceMappingURL=main.f55e2bd4.chunk.js.map