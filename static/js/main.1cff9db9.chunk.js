(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{284:function(e,t,a){e.exports=a(629)},295:function(e,t,a){},629:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(28),c=a.n(o),s=a(31),l=a(42),m=a(260),i=a(235),u=a(35),d=a.n(u),f=a(34),p="RECEIVE_TASKS",b="RECEIVE_TASK",E="RECEIVE_CURRENT_TASK",y="UPDATE_CURRENT_TASK",T="RESET_INDICATORS",h="START_TASK",O="STOP_TASK",k="DESTROY_TASK",g="GENERATE_RANDOM_TASKS",v=function(e){return{type:p,payload:e}},j=function(e){return{type:E,payload:e}},S=function(e){return{type:y,payload:e}},I=function(e){return{type:h,payload:e}},D=function(e){return{type:O,payload:e}},N=d.a.mark(M),w=d.a.mark(F),x=d.a.mark(R),C=d.a.mark(B);function M(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(R);case 2:return e.next=4,Object(f.f)("*",F);case 4:case"end":return e.stop()}},N)}function F(){var e,t,a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(f.c)(300);case 2:return r.next=4,Object(f.e)();case 4:return e=r.sent,t=e.task,a=t.currentItem,n=t.items,r.next=10,Object(f.b)(function(){localStorage.setItem("currentTask",JSON.stringify(a)),localStorage.setItem("tasks",JSON.stringify(n))});case 10:case"end":return r.stop()}},w)}function R(){var e,t;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(f.b)(function(){return JSON.parse(localStorage.getItem("currentTask")||JSON.stringify({name:"",start:null,stop:null}))});case 2:return e=a.sent,a.next=5,Object(f.b)(function(){return JSON.parse(localStorage.getItem("tasks")||JSON.stringify([]))});case 5:return t=a.sent,a.next=8,Object(f.d)(j(e));case 8:return a.next=10,Object(f.d)(v(t));case 10:case"end":return a.stop()}},x)}function B(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([M()]);case 2:case"end":return e.stop()}},C)}var A=d.a.mark(_);function _(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([B()]);case 2:case"end":return e.stop()}},A)}a(295);var K=a(59),H=a(33),J=Object(H.b)(),W=a(46),L=a(36),z=a(37),P=a.n(z),U=a(257),V=a.n(U),G=a(258),Y=a.n(G),$=a(157),q=a.n($),Q=a(56),X=a(16),Z=a(236),ee=a.n(Z),te=a(238),ae=a.n(te),ne=a(237),re=a.n(ne),oe=a(239),ce=a.n(oe),se=a(241),le=a.n(se),me=a(30),ie=a.n(me),ue=a(240),de=a.n(ue),fe=a(152),pe=a.n(fe),be=a(25),Ee=a.n(be),ye=function(e){return{root:{display:"flex",flex:1,alignItems:"center",flexDirection:"column"},subRoot:{display:"flex",width:"100%",flexDirection:"column"},container:{maxWidth:"60rem"},textField:{width:"12rem",marginBottom:"1.5rem",color:"#3f51b5"},timer:{width:"10rem",height:"10rem",background:"#ffffff",marginBottom:"1.5rem",fontSize:"2rem",color:"#3f51b5"},card:{marginTop:"1.5rem",marginBottom:"1.5rem",minWidth:"60rem"},pos:{marginTop:12,marginBottom:3},actionTimer:{marginBottom:"1.5rem",background:"#ffffff",color:"#3f51b5"},actionButton:{marginTop:"1.5rem",marginBottom:"1.5rem",background:"#ffffff",color:"#3f51b5"},buttonContainerCenter:{display:"flex",justifyContent:"flex-end"},tabs:{marginBottom:"1.5rem"},tabsItems:{background:"#00bcd4"},modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:"40rem",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},modalContent:{marginBottom:"1.5rem"},modalClose:{position:"absolute",color:"#3f51b5",right:15,bottom:10},contentWrapper:{marginBottom:"1.5rem"},button:{background:"#ffffff",color:"#3f51b5"},cellTable:{background:"#eaf6ff"},marginTopContainer:{marginTop:"1.5rem"}}},Te=Object(s.b)(function(e){return{tasks:e.task.items}},{destroyTask:function(e){return{type:k,payload:e}}})(Object(L.withStyles)(ye)(function(e){var t=e.classes,a=e.destroyTask,o=e.tasks,c=Object(n.useState)(!1),s=Object(Q.a)(c,2),l=s[0],m=s[1],i=Object(n.useState)({}),u=Object(Q.a)(i,2),d=u[0],f=u[1],p=function(){m(!1)};return r.a.createElement(P.a,{container:!0,className:t.contentWrapper},r.a.createElement(ee.a,{open:l,onClose:p},r.a.createElement(re.a,null,"Are you sure you want to delete this task?"),r.a.createElement(ae.a,null,r.a.createElement(Ee.a,{onClick:p,color:"primary"},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){a({id:d.id}),p()},color:"secondary"},"delete"))),r.a.createElement(ce.a,null,r.a.createElement(de.a,null,r.a.createElement(pe.a,null,r.a.createElement(ie.a,null,"#"),r.a.createElement(ie.a,null,"Task"),r.a.createElement(ie.a,null,"Time start"),r.a.createElement(ie.a,null,"Time end"),r.a.createElement(ie.a,null,"Time spend"),r.a.createElement(ie.a,null,"Info"),r.a.createElement(ie.a,null,"Delete"))),r.a.createElement(le.a,null,o.map(function(e){return r.a.createElement(pe.a,{key:e.id,className:t.cellTable},r.a.createElement(ie.a,{component:"th",scope:"row"},e.id),r.a.createElement(ie.a,null,e.name),r.a.createElement(ie.a,null,X.DateTime.fromISO(e.start).toFormat("HH:mm:ss")),r.a.createElement(ie.a,null,X.DateTime.fromISO(e.stop).toFormat("HH:mm:ss")),r.a.createElement(ie.a,null,X.Interval.fromDateTimes(X.DateTime.fromISO(e.start),X.DateTime.fromISO(e.stop)).toDuration().toFormat("hh:mm:ss")),r.a.createElement(ie.a,null,r.a.createElement(Ee.a,{variant:"contained",className:t.button,component:W.a,to:"/tasks/".concat(e.id)},"Info")),r.a.createElement(ie.a,null,r.a.createElement(Ee.a,{variant:"contained",className:t.button,onClick:function(){return f(e),void m(!0)}},"Delete")))}))))})),he=a(49),Oe=a(26),ke=function(e){return X.DateTime.fromISO(e).toFormat("yyyy-MM-dd")},ge=function(e){return Array.from({length:24},function(t,a){return{name:a,value:Math.floor(e.map(function(e){return Object(Oe.a)({},e,{start:ke(e.stop)===X.DateTime.local().toFormat("yyyy-MM-dd")&&ke(e.start)!==ke(e.stop)?X.DateTime.fromObject({hour:0,minute:0,second:0}).toISO():e.start})}).filter(function(e){return ke(e.start)===X.DateTime.local().toFormat("yyyy-MM-dd")}).map(function(e){for(var t={},a=X.DateTime.fromISO(e.start),n=X.DateTime.fromISO(e.stop),r=a.toFormat("yyyy-MM-dd");a<=n&&(a.hour===n.hour?t[a.hour]=Number(X.Interval.fromDateTimes(a,n).toDuration().toFormat("s")):t[a.hour]=Number(X.Interval.fromDateTimes(a,X.DateTime.fromObject({day:a.day,hour:a.hour+1})).toDuration().toFormat("s")),r===(a=a.plus({minutes:60-a.minute}).set({seconds:0,milliseconds:0})).toFormat("yyyy-MM-dd")););return t}).reduce(function(e,t){return e+(t[a]||0)},0)/60)}})},ve=Object(s.b)(function(e){return{tasks:e.task.items}},{generateRandomTasks:function(){return{type:g}}})(Object(L.withStyles)(ye)(function(e){var t=e.classes,a=e.tasks,o=e.generateRandomTasks,c=Object(n.useMemo)(function(){return ge(a)},[a]);return r.a.createElement("div",{className:t.subRoot},r.a.createElement(he.e,{width:"100%",height:300},r.a.createElement(he.b,{height:300,data:c,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(he.c,{strokeDasharray:"3 3"}),r.a.createElement(he.g,{dataKey:"name"}),r.a.createElement(he.h,null),r.a.createElement(he.f,null),r.a.createElement(he.d,null),r.a.createElement(he.a,{name:"Minutes in this hours",dataKey:"value",fill:"#3248c7"}))),r.a.createElement("div",{className:t.buttonContainerCenter},r.a.createElement(Ee.a,{variant:"contained",className:t.actionButton,onClick:function(){o()}},"Generate")))})),je=a(254),Se=a(255),Ie=a.n(Se),De=a(256),Ne=a.n(De),we=a(104),xe=a.n(we),Ce=a(29),Me=a.n(Ce),Fe=Object(s.b)(function(e){return{currentTask:e.task.currentItem}},{startTask:I,stopTask:D,updateCurrentTask:S})(Object(L.withStyles)(ye)(function(e){var t=e.classes,a=Object(n.useState)(""),o=Object(Q.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)("00:00:00"),m=Object(Q.a)(l,2),i=m[0],u=m[1],d=Object(n.useState)(!1),f=Object(Q.a)(d,2),p=f[0],b=f[1];Object(n.useEffect)(function(){var t=function(){u(X.Interval.fromDateTimes(X.DateTime.fromISO(e.currentTask.start),X.DateTime.local()).toDuration().toFormat("hh:mm:ss"))};e.currentTask.start&&t();var a=setInterval(function(){e.currentTask.start?t():(u("00:00:00"),clearInterval(a))},1e3);return function(){clearInterval(a)}},[e.currentTask.start]);var E=Object(je.useDebouncedCallback)(function(t){e.updateCurrentTask({name:t})},300),y=Object(Q.a)(E,1)[0];Object(n.useEffect)(function(){s(e.currentTask.name)},[e.currentTask.start]);return r.a.createElement("div",{className:t.root},r.a.createElement(xe.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:p,onClose:function(){b(!1)}},r.a.createElement("div",{className:t.modal},r.a.createElement(P.a,{container:!0,className:t.modalContent},r.a.createElement(Me.a,{variant:"h6",color:"error",id:"modal-title"},"Empty task name"),r.a.createElement(Me.a,{variant:"subtitle1",id:"simple-modal-description"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement(Ee.a,{className:t.modalClose,onClick:function(){b(!1)}},"Close"))),r.a.createElement(Ie.a,{id:"standard-name",label:"Name of your task",className:t.textField,value:c,onChange:function(e){s(e.target.value),y(e.target.value)},margin:"normal"}),r.a.createElement(Ne.a,{className:t.timer},i),e.currentTask.start?r.a.createElement(Ee.a,{variant:"contained",onClick:function(){""!==c.trim()?e.stopTask(Object(Oe.a)({},e.currentTask,{stop:X.DateTime.local().toISO()})):b(!0)},className:t.actionTimer},"Stop"):r.a.createElement(Ee.a,{variant:"contained",onClick:function(){e.startTask(Object(Oe.a)({},e.currentTask,{start:X.DateTime.local().toISO(),stop:null}))},className:t.actionTimer},"Start"))})),Re=Object(s.b)(function(e){return{currentTask:e.task.currentItem}},{startTask:I,stopTask:D,updateCurrentTask:S})(Object(L.withStyles)(ye)(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{container:!0,alignItems:"center",direction:"column",className:t.container},r.a.createElement(Fe,null),r.a.createElement(V.a,{position:"static",className:t.tabs},r.a.createElement(Y.a,{className:t.tabsItems,variant:"fullWidth",value:"/"===e.location.pathname?0:1},r.a.createElement(q.a,{component:W.a,to:"/",label:"Tasks log"}),r.a.createElement(q.a,{component:W.a,to:"/chart",label:"Tasks chart"}))),r.a.createElement(K.b,{path:"/",exact:!0,component:Te}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:ve})))})),Be=a(109),Ae=a.n(Be),_e=a(111),Ke=a.n(_e),He=a(110),Je=a.n(He),We=Object(s.b)(function(e){var t=e.task;return{task:t.item,isError:t.isError}},{receiveTask:function(e){return{type:b,payload:e}}})(Object(L.withStyles)(ye)(function(e){var t=e.classes,a=e.task,o=e.match,c=e.history,s=e.isError,l=e.receiveTask;return s?r.a.createElement(K.a,{to:"/404"}):(Object(n.useEffect)(function(){l({id:Number(o.params.id)})},[o.params.id]),r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{container:!0,alignItems:"center",direction:"column",className:t.container},r.a.createElement(Ae.a,{className:t.card},r.a.createElement(Je.a,null,r.a.createElement(Me.a,{variant:"h4",component:"h2"},a.name),r.a.createElement(Me.a,{className:t.pos,color:"textSecondary"},"Start"),r.a.createElement(Me.a,{component:"p"},X.DateTime.fromISO(a.start).toFormat("yyyy-MM-dd HH:mm:ss")),r.a.createElement(Me.a,{className:t.pos,color:"textSecondary"},"End"),r.a.createElement(Me.a,{component:"p"},X.DateTime.fromISO(a.stop).toFormat("yyyy-MM-dd HH:mm:ss")),r.a.createElement(Me.a,{className:t.pos,color:"textSecondary"},"Time spend"),r.a.createElement(Me.a,{component:"p"},X.Interval.fromDateTimes(X.DateTime.fromISO(a.start),X.DateTime.fromISO(a.stop)).toDuration().toFormat("hh:mm:ss"))),r.a.createElement(Ke.a,null,r.a.createElement(Ee.a,{size:"small",onClick:function(){c.goBack()}},"Back"))))))})),Le=Object(s.b)(function(){return{}},{resetIndicators:function(){return{type:T}}})(Object(L.withStyles)(ye)(function(e){var t=e.classes,a=e.resetIndicators;return Object(n.useEffect)(function(){a()},[]),r.a.createElement(P.a,{className:t.marginTopContainer,container:!0,justify:"center"},r.a.createElement(P.a,{item:!0,xs:12,md:6},r.a.createElement(Ae.a,null,r.a.createElement(Je.a,null,r.a.createElement(Me.a,{variant:"h4",gutterBottom:!0},"404"),r.a.createElement(Me.a,{color:"textSecondary"},"Page not found.")),r.a.createElement(Ke.a,null,r.a.createElement(Ee.a,{className:t.button,size:"small",component:W.a,to:"/"},"Homepage")))))})),ze=function(){return r.a.createElement(K.c,{history:J},r.a.createElement(K.d,null,r.a.createElement(K.b,{path:"/",exact:!0,component:Re}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:Re}),r.a.createElement(K.b,{path:"/tasks/:id",exact:!0,component:We}),r.a.createElement(K.b,{component:Le})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=a(259),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*(t-e)+e+1)},Ve=function(){for(var e=1,t=[],a=X.DateTime.fromObject({hour:0,minute:0,second:0}),n=null;a.toFormat("yyyy-LL-dd")===X.DateTime.local().toFormat("yyyy-LL-dd");)n=(a=a.plus({seconds:Ue(0,5400)})).plus({seconds:Ue(600,5400)}),t.push({id:e,start:a.toISO(),stop:n.toISO(),name:"Task #".concat(e)}),e+=1,a=n;return t},Ge={isFetching:!1,isError:!1,items:[],item:{},currentItem:{start:null,name:"",stop:null}};var Ye=Object(l.combineReducers)({task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(Oe.a)({},e,{currentItem:t.payload});case y:return Object(Oe.a)({},e,{currentItem:Object(Oe.a)({},e.currentItem,t.payload)});case O:return Object(Oe.a)({},e,{items:[].concat(Object(Pe.a)(e.items),[Object(Oe.a)({},t.payload,{id:e.items[e.items.length-1]&&e.items[e.items.length-1].id+1||1})]),currentItem:Ge.currentItem});case E:return Object(Oe.a)({},e,{currentItem:t.payload});case b:return Object(Oe.a)({},e,{item:e.items.find(function(e){return e.id===t.payload.id})||{},isError:!e.items.find(function(e){return e.id===t.payload.id})});case p:return Object(Oe.a)({},e,{items:t.payload});case k:return Object(Oe.a)({},e,{items:e.items.filter(function(e){return e.id!==t.payload.id})});case g:return Object(Oe.a)({},e,{items:Ve()});case T:return Object(Oe.a)({},e,{isFetching:!1,isError:!1});default:return e}}}),$e=Object(m.a)(),qe=Object(l.createStore)(Ye,Object(i.composeWithDevTools)(Object(l.applyMiddleware)($e)));$e.run(_),c.a.render(r.a.createElement(s.a,{store:qe},r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[284,1,2]]]);
//# sourceMappingURL=main.1cff9db9.chunk.js.map